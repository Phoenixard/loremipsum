"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}!function(h){h.CreateModule=function(){var o,f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},l=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"run",value:function(){a.props=f,a.extendProps(),a.makeLib()}},{key:"getCamelCase",value:function(e){return e.substr(0,1).toLowerCase()+e.substr(1)}},{key:"makeLib",value:function(){(h=h||{}).fn=h.fn||{},h[d]=h[d]||(h.fn[d]=function(){for(var e=this,t=("function"==typeof e&&(e=h[d].element||h("<div>"),h[d].element=e),arguments[0]),n=Array.prototype.slice.call(arguments,1),r=e,o=0;o<e.length;o++){var a,i=e[o];if("object"===_typeof(t)||void 0===t)"object"!==_typeof(i[d])&&((a=new c(i,t)).list[a.hash]=a);else{if(!i[d][t]||"function"!=typeof i[d][t])throw new Error('Method "'+t+'" is not defined in the "'+d+'" module');r=i[d][t].apply(i[d],n)||e}}return r}),h[d].struct=f}},{key:"extendProps",value:function(){var e;f.extends&&0<f.extends.length&&(a.parents={},a.parent={},e=f.extends.map(function(e){e=a.getCamelCase(e);var t=h[e].struct;return a.parents[e]=t.privateMethods,t}),a.parentMethods=a.extend.apply(a,[{}].concat(_toConsumableArray(e))).privateMethods,f.parents=a.parents,f=a.extend.apply(a,[{}].concat(_toConsumableArray(e),[f])))}},{key:"extend",value:function(){for(var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,t=new Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return t.map(function(e){for(var t in e){var n,r;e.hasOwnProperty(t)&&("function"==typeof(n=e[t])?o[t]=n:Array.isArray(n)?o[t]=a.deepCopy(n):"object"===_typeof(n)?(r=void 0,r=!Array.isArray(o[t])&&"object"===_typeof(o[t])?a.extend(o[t],n):a.extend({},n),o[t]=r):o[t]=n)}}),o}},{key:"deepCopy",value:function(e){if("function"==typeof e)return e;if(Array.isArray(e))return e.map(function(e){return a.deepCopy(e)});if("object"!==_typeof(e))return e;var t,n=a.extend({},e);for(t in n)n.hasOwnProperty(t)&&(n[t]=a.deepCopy(n[t]));return n}},{key:"haveFunctions",value:function(e){for(var t in e)if(e.hasOwnProperty(t)&&"function"!=typeof e[t])throw new Error('The "'+t+'" element must be a function')}}]),a}(),r=function(){function r(e,t,n){_classCallCheck(this,r),this.inst=e,this.watch=n,this.data={},this.instData=t,this.setData(t)}return _createClass(r,[{key:"setData",value:function(){var e,t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};for(e in n)n.hasOwnProperty(e)&&this.set(e,n[e],this.watch[e]);Object.defineProperty(this.inst,"data",{get:function(){return t.instData}})}},{key:"set",value:function(n,e,r){var o=this;Object.defineProperty(this.instData,n,{get:function(){return o.data[n]},set:function(e){var t=o.data[n];o.data[n]=e,r&&"function"==typeof r?r.call(o.inst,t,o.data[n]):o.watch[n]&&"function"==typeof o.watch[n]&&o.watch[n].call(o.inst,t,o.data[n])}}),o.data[n]=e}}]),r}(),a=function(){function n(e,t){_classCallCheck(this,n),this.privateMethods={},this.options=t,this.globalReg(e),this.addHooks(e),this.addSuperMethods(e),this.addPrivateMethods(e),this.addPublicMethods(e),this.setData(e),this.setOptions(e)}return _createClass(n,[{key:"globalReg",value:function(e){var t,n={storage:u,list:s};for(t in n)!function(t){Object.defineProperty(e,t,{get:function(){return n[t]},set:function(e){throw new Error('Setting the value to "'+e+'" failed. Object "'+t+'" is not editable')}})}(t)}},{key:"setData",value:function(e){var t=l.extend({},f.data||{},this.options.data||{}),n=l.extend({},f.watch||{},this.options.watch||{});l.haveFunctions(n),o=new r(e,t,n)}},{key:"setOptions",value:function(e){var t=Math.round(new Date*Math.random()),n=e.el.dataset,r=n[d],o={},a={};if(0<Object.keys(n).length)for(var i in n)if(i!==d&&0===i.indexOf(d)&&n.hasOwnProperty(i)){var s=l.getCamelCase(i.split(d)[1]);try{a[s]=""===n[i]||JSON.parse(n[i])}catch(e){a[s]=n[i]}}try{o=r?JSON.parse(r):{}}catch(e){throw new Error("Check the data attributes in the element. "+r+" is not valid JSON format.")}e.hash=e.el.hash=t;var u,c=l.extend({},f.options||{},this.options.options||{},o,a,{hash:t}),h={};for(u in c)!function(t){c.hasOwnProperty(t)&&Object.defineProperty(h,t,{set:function(e){c[t]=e},get:function(){return e._getOption(c,t)}})}(u);Object.defineProperty(e,"options",{get:function(){return h}})}},{key:"addHooks",value:function(o){var a=l.extend({beforeCreate:function(){},bindEvent:function(){},afterCreate:function(){}},f.hooks||{},this.options.hooks||{});l.haveFunctions(a),Object.defineProperty(o,"hook",{get:function(){return function(e){if(!a[e])throw new Error('Hook "'+e+'" is not defined in the module');for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a[e].apply(o,n)}}})}},{key:"addPrivateMethods",value:function(e){if(f.privateMethods)for(var t in l.haveFunctions(f.privateMethods),f.privateMethods)if(f.privateMethods.hasOwnProperty(t)){if("_"!==t[0])throw new Error('The name of the private method must begin with "_". Rename the method '+t);e[t]=this.privateMethods[t]=f.privateMethods[t].bind(e)}}},{key:"addPublicMethods",value:function(e){var t=this;if(e.el[d]={data:e.data,getStruct:function(){return e._getStruct()},destroy:function(){return e._destroy()}},f.publicMethods)for(var n in l.haveFunctions(f.publicMethods),f.publicMethods)if(f.publicMethods.hasOwnProperty(n)){var r={};if(Object.defineProperty(r,"inst",{get:function(){return e.el[d]}}),Object.defineProperty(r,"private",{get:function(){return t.privateMethods},set:function(e){throw new Error('Setting the value to "'+e+'" failed. Object "private" is not editable')}}),e.el[d][n]=f.publicMethods[n].bind(r),e[n])throw new Error("The "+n+" method is already defined in a private scope!");if("_"===n[0])throw new Error('The public method should not start with "_". Rename the method '+n)}}},{key:"addSuperMethods",value:function(a,e){l.extend(a.__proto__,l.parentMethods),Object.defineProperty(a,"super",{get:function(){return function(t,e){try{for(var n=arguments.length,r=new Array(2<n?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return f.parents&&"object"===_typeof(f.parents[t])&&f.parents[t][e]?f.parents[t][e].apply(this,r):a.__proto__[t].apply(this,[e].concat(r))}catch(e){throw new Error('Method "'+t+'" is not defined in the parents modules')}}}})}}]),n}(),i=f.name,d=l.getCamelCase(i),s={},u={},c=(l.run(),function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(_classCallCheck(this,r),this);n.element=h(e),1<n.element.length?n.element.map(function(e){return new h[i](e,t)}):(n.el=e,new a(n,t),n.hook("beforeCreate"),n.hook("create"),n.hook("bindEvent"),n.hook("afterCreate"))}return _createClass(r,[{key:"_set",value:function(e,t,n){o.set(e,t,n)}},{key:"_getEventList",value:function(){return{click:"touchend",mouseenter:"touchstart",mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove",mouseleave:"touchend"}}},{key:"_getEventName",value:function(e,t){return t=(t?"."+t:"")+"."+this.hash,this._isMobile()?(this._getEventList()[e]||e)+t:e+t}},{key:"_isMobile",value:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},{key:"_destroy",value:function(){delete this.list[this.hash],delete this.el.hash,delete this.el[d]}},{key:"_getOption",value:function(e,t){return e[t]}},{key:"_extend",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return l.extend.apply(l,[e].concat(n))}},{key:"_deepCopy",value:function(e){return l.deepCopy(e)}}]),r}())}}(jQuery);
$(function(){$.CreateModule({name:"AutoSuggest",data:{},options:{editable:!0,filtred:!0,value:"",ajaxUrl:"",attrs:{name:""},placeholder:""},hooks:{beforeCreate:function(){},create:function(){this._create()},bindEvent:function(){var t=this,e=this.views.input,s=this.views.list;e.on(t._getEventName("click"),t._onClickInput),e.on(t._getEventName("keyup"),t._onPressKey),s.parent().on(this._getEventName("mousedown"),".js-suggest-item",this._onTouchStart)}},privateMethods:{_create:function(){var t=this,e=t.element,s=e.find("span"),s=t.options.ajaxUrl?t._createList():t._createList(s),i=(e.empty(),t._createInput());t.views={input:i,list:s},e.hasClass("disabled")&&i.attr("disabled",!0),t.options.value&&t._setValue(t.options.value,t.options.name),e.append(i).append(s).addClass("js-suggest"),e.trigger("created")},_createInput:function(){var t,e=this,e=e.options.editable?$("<input>").attr(e.options.attrs).addClass("js-suggest-input").attr("placeholder",e.options.placeholder):(t=$("<input>").attr(e.options.attrs).attr("name",e.options.name).attr("type","hidden"),e.element.append(t),$("<div>").addClass("js-suggest-input"));return e},_onClickInput:function(t){t.stopPropagation();var e=this,s=$(t.currentTarget).parent().hasClass("opened"),i=$(t.currentTarget).parent().hasClass("disabled");$(t.currentTarget).parent().find(".js-suggest-list");i||e.options.ajaxUrl||(s?e._closeList():e._openList())},_createList:function(t){var s=this,i=$("<div>").addClass("js-suggest-list");return t&&$(t).each(function(t,e){i.append(s._createItem(t,e))}),i},_updateListContent(t){const s=this;t&&0<t.length&&(this.views.list.empty(),$(t).each((t,e)=>{this.views.list.append(s._createItem(t,e))}))},_createItem:function(t,e){var e="string"==typeof e?e:$(e).text(),s=$("<div>").addClass("js-suggest-item");$("<span>").appendTo(s).text(e);return this.options.value&&this.options.value==e&&s.addClass("active"),s},_openList:function(){var t,e=this,s=e.views.list;for(t in e.list)e.hash==t?(s.slideDown(75),$(document).on(e._getEventName("mousedown"),e._onTouchStart),$(document).on(e._getEventName("keyup"),e._onPressKey)):e.list[t]._closeList();e.element.addClass("opened"),e.element.trigger("open")},_closeList:function(){var t=this;t.views.list.slideUp(75),t.element.removeClass("opened"),$(document).off(t._getEventName("mousedown")),$(document).off(t._getEventName("keyup"))},_selectItem:function(t){var t=$(t),e=t.find("span").text();t.parents(".js-suggest-list").find(".js-suggest-item").each(function(t,e){$(e).removeClass("active")}),t.addClass("active"),this._setValue(e)},_onPressKey:function(t){var s=this,i=s._getValue().toLowerCase(),e=s.views.list,n=e.find(".js-suggest-item");"ArrowUp"==t.key?n.hasClass("active")?s._selectItem(e.find(".js-suggest-item.active").prev(":visible")):s._selectItem(e.find(".js-suggest-item:last-child:visible")):"ArrowDown"==t.key?n.hasClass("active")?s._selectItem(e.find(".js-suggest-item.active").next(":visible")):s._selectItem(e.find(".js-suggest-item:first-child:visible")):"Enter"==t.key||"Escape"==t.key?s._closeList():s.options.editable&&!s.options.ajaxUrl?0==i.length?n.show():n.each(function(t,e){e=$(e);0<=e.text().toLowerCase().indexOf(i)?e.show():e.hide()}):s.options.editable&&s.options.ajaxUrl&&(clearTimeout(s.timer),s.timer=setTimeout(()=>{2<=i.length?s._getJSON(function(t){var e=t.items;s._updateListContent(e),void 0!==t?s._openList():s._closeList()}):i.length<1&&s._closeList()},400))},_getJSON:function(t){var e=this.views.input.val();return $.ajax({url:this.options.ajaxUrl,data:{q:e},success:t})},_setValue:function(t){var e=this.views.input;this.options.editable?e.val(t):(e.text(t),e.prev("input").val(t)),this.element.trigger("change")},_getValue:function(){var t=this.views.input;return this.options.editable?t.val():t.text()},_onOutClick:function(t){0===this.element.find(t.target).length&&this.element!==$(t.target)&&this._closeList()},_onTouchStart:function(t){this.touchStart=t.screenY||t.touches[0].screenY,$(document).on(this._getEventName("mousemove"),this._onTouchMove),this.views.list.parent().on(this._getEventName("mouseup"),".js-suggest-item",this._onTouchEnd),$(document).on(this._getEventName("mouseup"),this._onClearEvent)},_onTouchMove:function(t){this.touchDiff=Math.abs(this.touchStart-(t.screenY||t.touches[0].screenY))},_onTouchEnd:function(t){t=$(t.currentTarget);(this.touchDiff||0)<10&&(this._selectItem(t),this._closeList()),this.views.list.parent().off(this._getEventName("mouseup")),$(document).off(this._getEventName("mousemove"))},_onClearEvent:function(t){(this.touchDiff||0)<10&&this._onOutClick(t),this.touchDiff=0,$(document).off(this._getEventName("mouseup"))}},publicMethods:{open:function(t){this.private._openList()},close:function(t){this.private._closeList()},selectItem:function(t){this.private._selectItem(t)}}})});
$(document).ready(function(){$("[data-select]").autoSuggest({options:{editable:!1,value:"Выберите тип системы",attrs:{name:"select"}}}),$(".js-suggest-list").niceScroll({cursorcolor:"#3E9CDC",cursorwidth:"7px",cursorborder:"none",cursorborderradius:"3px",autohidemode:!1}),$("[data-slider]").slider({slide:function(e,o){$("[data-slider-value]").text(o.value+" ")}}),$("[data-slider-value]").text($("[data-slider]").slider("value"))}),window.mobileCheck=function(){let e=!1;var o;return o=navigator.userAgent||navigator.vendor||window.opera,e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(o)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(o.substr(0,4))?!0:e};var Menu={options:{menu:$(".js-mobile-menu")},init:function(){mobileCheck()?($(document).on("touchstart",".js-mobile-btn",this.onToggle),$(document).on("touchstart",".js-mobile-close",this.close)):($(document).on("click",".js-mobile-btn",this.onToggle),$(document).on("click",".js-mobile-close",this.close))},onToggle:function(){Menu.options.menu.hasClass("is-opened")?Menu.close():Menu.open()},open:function(){Menu.options.menu.addClass("is-opened")},close:function(){Menu.options.menu.removeClass("is-opened")}};$(function(){Menu.init()});